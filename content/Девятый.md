---
title: девятый
---
# Билет
Сетевые приложения. Сокеты и Datagram* в Java. Java NIO (каналы, буферы, селекторы) для сетевых приложений. Общение между программами через сеть, создание своего протокола. Модель OSI (примеры протоколов/семейств/технологий всех уровней). Основные идеи IP, TCP, UDP. Что такое интернет, веб. Порт, доменное имя, DNS, URI, URL-encoding. 

# Сетевые приложения
Сетевые приложения - это программы, которые работают в сетевой среде и обеспечивают взаимодействие между различными устройствами и пользователями. Они используют сетевые протоколы для передачи данных и обмена информацией между клиентом и сервером

# Сокеты и Datagram в Java
Сокеты и Datagram в Java - это механизмы для обмена данными между двумя узлами (компьютерами) в сети. 

Сокеты используются для передачи потоковых данных, то есть данных, которые необходимо передавать в непрерывном потоке. Сокеты могут быть созданы как на стороне сервера, так и на стороне клиента. Серверный сокет ожидает подключения от клиентского сокета, после чего устанавливается соединение между ними. Клиентский сокет устанавливает соединение с серверным сокетом и отправляет ему данные. 

Datagram используется для передачи датаграмм, то есть небольших пакетов данных, которые могут быть отправлены в любой момент времени. Datagram не устанавливает соединение между узлами, а просто отправляет данные на указанный адрес и порт. 

В Java для работы с сокетами и Datagram используются классы Socket, ServerSocket, DatagramSocket и DatagramPacket. Для передачи данных по сокетам используются потоки ввода-вывода.

# Java NIO (каналы, буферы, селекторы) для сетевых приложений
Java NIO (New Input/Output) - это альтернативная модель ввода/вывода в Java, предназначенная для обработки большого количества одновременных соединений в сетевых приложений.

1. Каналы (Channels) представляют собой абстракцию низкоуровневых потоков передачи данных, таких как сокеты TCP или файлы. Каналы могут быть либо устройствами ввода, либо устройствами вывода.
2. Буферы (Buffers) используются для временного хранения данных перед их обменом между каналами. Буферы представляют собой простые массивы, которые могут быть использованы для чтения данных из канала или записи в канал.
3. Селекторы (Selectors) позволяют одному потоку обрабатывать несколько каналов. Селекторы представляют собой общий ресурс, к которому регистрируются каналы. По запросу селектора при наличии готовых данных в канале, соответствующему селектору, поток может обработать данные без блокировки.



# Общение между программами через сеть

# Создание своего протокола

# Модель OSI
Описывает, как устройства в локальных и глобальных сетях обмениваются данными и что происходит с этими данными

Модель OSI включает семь слоёв — причём каждый из них выполняет определённую функцию

## 1 физический 
Физические объекты - ток или радиоволны. Передаются по проводам или с помощью беспроводных сигналов. Работает с кабелями, кодированием единиц и нулей. Самый низкий уровень.
## 2 канальный
Проверяет целостность полученных данных и исправляет ошибки. Кодирует сигналы в биты и передает дальше. Полученные данные делятся на фреймы. Каждый фрейм хранит служебную информацию и сами данные. Здесь указывается MAC-адрес устройства, которое отправило нам информацию. Выглядит так: `1d:85:11:b2:0a`

## 3 сетевой  
Здесь фреймы собираются в пакеты и перемещаются внутри сети между устройствами. С помощью IP-адресов маршрутизаторы понимают между какими устройствами происходит связь. IP-адреса получаются с помощью протокола ARP, который преобразует MAC-адрес в IP-адрес
## 4 транспортный
Происходит сама передача данных с помощью протоколов TCP и UDP

TCP гарантирует передачу без потерь. Он следит за каждым битом, поэтому работает медленнее. Для этого он использует контрольные суммы (Почти как хэш-функция, которая вычисляет определенное значение на основе данных, которое будет отличается, если данные не будут одинаковые)

UDP не гарантирует передачу без потерь. Его задача - как можно быстрее передать данные. Обычно используется для видео или аудио, когда небольшие потери некритичны

В TCP данные делятся на сегменты, что позволяет контролировать их размер на основе пропускной способности. А также позволяют надежно передавать данные, так как в случае потери какого-нибудь сегмента его можно запросить заново.

В UDP данные делятся на датаграммы - автономные пакеты. Поэтому датаграммы могут передавать по разным маршрутам в произвольном порядке
## 5 сеансовый  
Управляет соединением, то есть поддерживает соединение и настраивает его
## 6 представление
Преобразовывает форматы данных, то есть кодирует и сжимает их. То есть либо сжимает данные, либо конвертирует обратно. Также при необходимости на этом этапе происходит шифрование данных
## 7 прикладной 
Сетевые службы. Можно сказать, что это интерфейс всей модели OSI, которые позволяет удобно взаимодействовать с другими уровнями
# Обобщенное
1. Физический
	- Биты
	- Сигналы, двоичные данные
	- USB
2. Канальный
	- Биты/Кадры
	- Физическая адресация
	- Ethernet
3. Сетевой
	- Пакеты
	- Определение маршрута
	- IPv4, IPv6
4. Транспортный
	- Сегменты/Датаграммы
	- Прямая связь между конечными пунктами
	- TCP, UDP
5. Сеансовый
	- Данные
	- Управление сеансом связи
	- RPC
6. Представления
	- Данные
	- Представление и шифрование
	- ASCII
7. Прикладной
	- Данные
	- Сетевые службы
	- HTTP, FTP
## Пример работы OSI
Отправляем другу сообщение
- Прикладной. С помощью API информация передается на сервер, а оттуда - другу
- Представление. Сообщение преобразуется в унифицированный формат
- Сеансовый. Устанавливается соединение между сервером и тобой
- Транспортный. Данные передаются
- Сетевой. Определяется маршрут передачи данных
- Канальный. Данные передаются от одного адреса к другому
- Физический. С помощью радиоволн или проводом данные передаются в твое устройство

Бля, сразу вспоминается вот [эта тема](https://youtu.be/KPv6BU2GLLs?si=TC_5H9YHEjH3H-fS&t=52)

Столько всякой хуйни происходит за миллисекунду, респект пацанам, кто это придумал
# IP
Создается уникальный адрес устройства в сети
# Порт
Порт - целое неотрицательное число, записываемое в заголовках протоколов транспортного уровня модели OSI (TCP, UDP, SCTP, DCCP). Порты выдает ОС. Нужны для одновременного выполнения нескольких программ, каждая из которых использует сеть. Для обмена данными нужны два порта - отправитель, получатель.

Диапазон 0-65535. Примеры:
- 80 HTTP
- 8080 HTTP (альтернативный)
- 20/21 FTP
- 22 SSH
- 143 IMAP
- 443 HTTPS (SSL/TLS)
- 3306 MySQL
- 5432 PostgreSQL

# Доменное имя
Синтаксический сахар, чтобы не вводить комбинацию из четырех чисел, а вводить нормальные английские буквы
# DNS
Преобразует доменное имя в IP адрес
# URI, URL, URN
- **URI** - это **URL + URN**
- **URL** – адрес ресурса в сети, определяет местонахождение и способ обращения к нему
- **URN** – имя ресурса в сети, определяет только название ресурса, но не говорит как к нему подключиться

Пример:
- `https://lldan.ru` - **URL**
- `/poshla-voda` - **URN**
- `https://lldan.ru/poshla-voda` - **URI**

# URL-encoding
URL адреса могут быть отправлены только через интернет ASCII символьный набор. Если URL адрес содержит символы, не входящие в набор ASCII, URL адрес должен быть преобразован, согласно таблице кодировки.

Кодирование URL заменяет не ASCII символы с `%`, за которым следуют шестнадцатеричные цифры.

URL-адрес не может содержать пробелы. Кодировки URL-адреса, как правило, заменяет пространство со знаком плюс, или `%20`.

Поэтому ссылка `https://oris.lldan.ru/Восьмой` выглядит так `https://oris.lldan.ru/%D0%92%D0%BE%D1%81%D1%8C%D0%BC%D0%BE%D0%B9`
