---
title: седьмой
---
# Билет
Шаблонизаторы (что такое, ответственности шаблонизаторов, что в них должно быть, что — нет). Использование JSP и JSTL-тегов (или Freemarker)

# Шаблонизаторы
**Шаблонизаторы** - система генерации вывода программы обычно со своим индивидуальным языком описания управляющих конструкций, функциями обработки выводимых данных

Особенности:
- Свой ограниченный язык. Нельзя напортачить на уровне возможностей Java.
- Ограниченный набор переменных. Нельзя получить доступ к ядру системы или к БД. Обработчик запроса предоставит только необходимые данные.
- Набор полезных функций, “хелперов” для обработки данных (дат, чисел, строк).
- Упрощённый синтаксис. Синтаксический сахар

Минусы:
- Работает медленнее, так как нужен ещё один интерпретатор.
- Другие минусы, следующие из особенностей

В шаблонизаторах должно быть:
- Возможность работы с переменными: шаблонизатор должен позволять передавать переменные в шаблоны и использовать их в коде.
- Условные операторы: шаблонизатор должен поддерживать условные операторы, такие как if/else, для управления поведением шаблонов.
- Циклы: шаблонизатор должен поддерживать циклы для обработки списков данных.
- Фильтры: шаблонизатор должен позволять применять фильтры к данным, чтобы изменять их формат или содержание.

В шаблонизаторах не должно быть:
- Логики приложения: шаблонизатор не должен содержать логики приложения, такой как запросы к базе данных или обработка форм.
- Безопасности: шаблонизатор не должен обрабатывать данные без проверки на безопасность, так как это может привести к уязвимостям в приложении.

# Использование JSP и JSTL-тегов (или Freemarker)
JSP (JavaServer Pages) и JSTL (JavaServer Pages Standard Tag Library) являются технологиями для создания динамических веб-страниц на языке Java. JSP представляет собой шаблон, который содержит HTML-код и Java-код, который может быть выполнен на сервере. JSTL предоставляет набор тегов, которые могут быть использованы в JSP-страницах для управления потоком данных и выполнения операций.

Пример использования JSTL-тегов в JSP-странице:
```jsp
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
```

```jsp
<html>
<head>
    <title>Пример использования JSTL-тегов</title>
</head>
<body>
    <c:set var="name" value="John" />
    <c:if test="${name eq 'John'}">
        <p>Привет, ${name}!</p>
    </c:if>
    <c:choose>
        <c:when test="${name eq 'John'}">
            <p>Ваше имя John</p>
        </c:when>
        <c:otherwise>
            <p>Ваше имя не John</p>
        </c:otherwise>
    </c:choose>
</body>
</html>
```

В этом примере мы используем несколько тегов JSTL. Тег <c:set> используется для установки значения переменной name в "John". Тег <c:if> проверяет, равно ли значение переменной name "John" и выводит сообщение, если это так. Тег <c:choose> используется для выполнения одного из нескольких блоков кода в зависимости от условия.

Freemarker является альтернативой JSP и представляет собой шаблонизатор для создания динамических веб-страниц на языке Java. Он также предоставляет свой набор тегов и может быть использован для создания шаблонов, которые могут быть заполнены данными на сервере.

Пример использования Freemarker в JSP-странице:
```jsp
<#assign name = "John" />
<html>
<head>
    <title>Пример использования Freemarker</title>
</head>
<body>
    <#if name == "John">
        <p>Привет, ${name}!</p>
    </#if>
    <#if name == "John">
        <p>Ваше имя John</p>
    <#else>
        <p>Ваше имя не John</p>
    </#if>
</body>
</html>
```

В этом примере мы используем теги Freemarker для выполнения условных операций. Тег <#assign> используется для установки значения переменной name в "John". Тег <#if> проверяет, равно ли значение переменной name "John" и выводит сообщение, если это так. Тег <#else> используется для выполнения другого блока кода, если условие не выполнено.